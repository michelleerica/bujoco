

<div>
  <button type="button" id="saveClButton" class="btn btn-default" >Publish</button>

  <button type="button" id="saveDesktopButton" class="btn btn-default" >Save canvas to desktop</button>

  <button type="button" id="saveDBButton" class="btn btn-default" >Save edits</button>

  <button type="button" id="updateDBButton" class="btn btn-default" >Update edits</button>

  <!-- <div id="designId">design id</div> -->
  <div id="designId"><%=@design.id%></div>

  <div id='saveStatus'>Status</div>
</div>

<div class="row">
  <div class="col-xs-6 col-md-3">

    <!--generate flourishes from DB  -->

<!-- Flourish.where("category":"month") -->


  <#% @flourishes.order('category').each do |category| %>
    <#%category %>

  <#%<end>%>


    <div class="flourishes img-rounded">
      <%@flourishes.where("category":"borders").each do |f|%>
        <% location = "http://res.cloudinary.com/michelleerica/image/upload/h_30/#{f.location_storage}.png"%>
        <%= (cl_image_tag location, :id => f.id, public_id: f.name  )%>
      <%end%>
      <br>

      <%@flourishes.where("category":"month").each do |f|%>
        <% location = "http://res.cloudinary.com/michelleerica/image/upload/h_30/#{f.location_storage}.png"%>
        <%= (cl_image_tag location, :id => f.id, public_id: f.name  )%>
      <%end%>
      <br>

      <%@flourishes.where("category":"day").each do |f|%>
        <% location = "http://res.cloudinary.com/michelleerica/image/upload/h_30/#{f.location_storage}.png"%>
        <%= (cl_image_tag location, :id => f.id, public_id: f.name  )%>
      <%end%>
      <br>
      <%@flourishes.where("category":"scribbles").each do |f|%>
        <% location = "http://res.cloudinary.com/michelleerica/image/upload/h_30/#{f.location_storage}.png"%>
        <%= (cl_image_tag location, :id => f.id, public_id: f.name  )%>
      <%end%>

    </div>

  </div>

  <div class="col-xs-12 col-sm-6 col-md-9">
      <canvas id="mainCanvas" width="1000" height="600" class="center-block" designId="<%=@design_id%>"></canvas>

  </div>
</div>


<%= form_for(design) do |f| %>
  <% if design.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(design.errors.count, "error") %> prohibited this design from being saved:</h2>

      <ul>
      <% design.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>


  <div class="field hidden">
    <%= f.label :user_id %>
    <%= f.number_field :user_id %>
  </div>

  Design Name:
  <input type="Design name" placeholder="design name" id="designName">

  <div class="actions hidden">
    <%= f.submit %>
  </div>


    <div id="b"><p>draw a circle</p></div>
    <button id="delete" class="btn btn-default" >Delete selected object(s)</button>


  <div class="hidden">
    <%= cl_image_upload_tag(:design_id, :resource_type => :image, :html => {:class => "hidden_file", :id => 'image_upload'}) %>
  </div>



<% end %>
